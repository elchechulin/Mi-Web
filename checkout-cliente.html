<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Checkout cliente</title>
  <meta name="robots" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<h1>Prueba checkout cliente</h1>

<p id="planInfo"></p>

<label>
  <input type="checkbox" id="terms">
  Acepto los <a href="/terminos-del-servicio.html" target="_blank">Términos</a>
</label>

<br><br>

<button id="payBtn" disabled>Continuar</button>

<script>
  console.log("JS cargado");

  const plans = {
    pro: {
      name: "Plan Pro",
      stripe: "https://google.com"
    }
  };

  const params = new URLSearchParams(window.location.search);
  const planKey = params.get("plan");

  console.log("Plan:", planKey);

  if (!plans[planKey]) {
    alert("Plan no válido");
  } else {
    document.getElementById("planInfo").innerText = plans[planKey].name;
  }

  const checkbox = document.getElementById("terms");
  const button = document.getElementById("payBtn");

  checkbox.addEventListener("change", function () {
    console.log("Checkbox:", this.checked);
    button.disabled = !this.checked;
  });

  button.addEventListener("click", function () {
    console.log("Botón clicado");
    window.location.href = plans[planKey].stripe;
  });
</script>

</body>
</html>
